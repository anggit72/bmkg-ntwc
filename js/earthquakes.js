var geojsonMarkerOptions={radius:8,fillColor:"#ff7800",color:"#000",weight:1,opacity:.5,fillOpacity:.6};geojsonMarkerOptions={radius:8,fillColor:"#ff7800",color:"#000",weight:1,opacity:.5,fillOpacity:.5};let time_ot,timenow,colors=chroma.scale(["#fafa6e","#2A4858"]).mode("lch").colors(6);function createRealtimeLayer(e,t){return L.realtime(e,{interval:3e4,pointToLayer:function(e,t){return e.properties.depth<51?L.circleMarker(t,{radius:1.8*e.properties.mag,fillColor:"red",color:"black",weight:.5,opacity:1,fillOpacity:.8}):e.properties.depth>50&&e.properties.depth<101?L.circleMarker(t,{radius:1.8*e.properties.mag,fillColor:"orange",color:"black",weight:.3,opacity:1,fillOpacity:.8}):e.properties.depth>100&&e.properties.depth<251?L.circleMarker(t,{radius:1.8*e.properties.mag,fillColor:"yellow",color:"black",weight:.5,opacity:1,fillOpacity:.8}):e.properties.depth>250&&e.properties.depth<600?L.circleMarker(t,{radius:1.8*e.properties.mag,fillColor:"green",color:"black",weight:.5,opacity:1,fillOpacity:.8}):L.circleMarker(t,{radius:1.8*e.properties.mag,fillColor:"blue",color:"black",weight:.5,opacity:1,fillOpacity:.8})},getFeatureId:function(e){return e.properties.id},cache:!0,container:t,onEachFeature(e,t){t.on({click:notif})}})}let defaultToDarkFilter=["contrast:90%","brightness:100%","saturate:250%"];var map=L.map("map"),realtime1=createRealtimeLayer("https://bmkg-content-inatews.storage.googleapis.com/gempaQL.json").addTo(map);function notif(e){$("#t1").toast({delay:2e4}),console.log(e);var t=e.target.feature.properties.time;let o,r=e.latlng.lat;o=r<0?Math.abs(r).toFixed(2)+" LS":Math.abs(r).toFixed(2)+" LU";let a=Math.abs(e.latlng.lng).toFixed(2)+" BT";moment(t).add(7,"hours").format("Do MMMM YYYY, h:mm:ss");document.getElementById("mag_t").innerText=Math.abs(e.target.feature.properties.mag).toFixed(1),document.getElementById("kdlmn_t").innerText=Math.abs(e.target.feature.properties.depth).toFixed()+" Km",document.getElementById("waktu_t").innerText=moment.utc(t).local().format("Do MMMM YYYY, HH:mm:ss"),document.getElementById("lokasi_t").innerText=o+" , "+a,document.getElementById("elapse_3").innerText=moment.utc(t).fromNow(),document.getElementById("lokasi_t2").innerText=e.target.feature.properties.place,document.getElementById("status_t").innerText=e.target.feature.properties.status,document.getElementById("fase_t").innerText=e.target.feature.properties.fase,$("#t1").toast("show")}function notif_realtime(e){$("#t2").toast({delay:5e3});let t=e.features[0].properties;console.log(e.features[0].geometry.coordinates[0]);var o=t.time;moment(o).add(7,"hours").format("Do MMMM YYYY, h:mm:ss");let r,a=e.features[0].geometry.coordinates[1];r=a<0?Math.abs(a).toFixed(2)+" LS":Math.abs(a).toFixed(2)+" LU";let i=Math.abs(e.features[0].geometry.coordinates[0]).toFixed(2)+" BT";document.getElementById("mag_t3").innerText=Math.abs(t.mag).toFixed(1),document.getElementById("kdlmn_t3").innerText=Math.abs(t.depth).toFixed()+" Km",document.getElementById("waktu_t3").innerText=moment.utc(o).local().format("Do MMMM YYYY, HH:mm:ss"),document.getElementById("lokasi_t33").innerText=r+" , "+i,document.getElementById("elapse_33").innerText=moment.utc(o).fromNow(),document.getElementById("lokasi_t3").innerText=t.place,document.getElementById("status_t3").innerText=t.status,document.getElementById("fase_t3").innerText=t.fase,$("#t2").toast("show")}L.tileLayer.colorFilter("https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",{attribution:!1,filter:defaultToDarkFilter,maxZoom:13}).addTo(map),L.control.layers(null,{"Gempabumi M1.0+":realtime1}).addTo(map),realtime1.once("update",function(){});